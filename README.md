# Дипломная работа - Трекер задач сотрудников (TB5)

Создание серверного приложения для работы с базой данных, представляющего собой трекер задач сотрудников. Приложение обеспечивает CRUD операции для сотрудников и задач, а также предоставляет два специальных эндпоинта для получения информации о загруженности сотрудников и важных задачах.

Трекер задач позволит компании эффективно управлять заданиями, назначенными сотрудникам, и обеспечивать прозрачность процессов выполнения задач. Это поможет в равномерном распределении нагрузки между сотрудниками и своевременном выполнении ключевых задач.

## Запуск сервиса
1. Установите Git и Docker
2. Скопируйте приложение с репозитория используя команду __git clone https://github.com/fivtin/task_tracker.git__
3. Перейдите в корневую папку проекта (где располагается файл __docker-compose.yaml__)
4. Cоздайте файл ___.env___ (или переименуйте __.env-sample__) и установите необходимые значения переменных (обязательно задайте пароли БД, суперпользователя и секретный ключ).
5. Запустите терминал в корневой папке и выполните команды
   - __docker-compose build__
   - __docker-compose up -d__
   - выполните одну из команд ниже для добавления данных:
      * __docker-compose exec app python3 manage.py csu__ (создает пользователей admin@example.com и user@example.com)
      * __docker-compose exec app python3 manage.py loaddata data.json__ (добавляет пользователей admin@example.com и user@example.com и записи в таблицы user, employee, task)
6. Контейнер создан и запущен.

# Пользование сервисом
При регистрации пользователь указывает обязательные поля __"email"__ и __"password"__. Далее параметры "email" и "password" используются для получения токена доступа.

Токен передается в заголовках запросов с именем 'Authorization': 'Bearer {access_token}' и необходим для доступа ко всем запросам кроме страниц документации.

Необходимые поля для запросов можно посмотреть в докумментации по ссылкам ниже.

* Пользователи и пароли по умолчанию (для проверяющего):
    - ID=1 admin@example.com - пароль из файла __.env__ или __qwe123rty__ (если использовали loaddata)
    - ID=2 user@example.com - user1user

### Основные URL
- [POST] http://127.0.0.1:8000/users/register/ - регистрация пользователя
- [POST] http://127.0.0.1:8000/users/token/ - получение JWT токена

- [GET] http://127.0.0.1:8000/employees/ - получение списка сотрудников
- [GET] http://127.0.0.1:8000/employees/{id}/ - получение информации о конкретном сотруднике
- [POST] http://127.0.0.1:8000/employees/create/ - добавление сотрудника /только для администратора/
- [PATCH] http://127.0.0.1:8000/employees/{id}/update/ - peдактирование сотрудника /только для администратора/
- [DELETE] http://127.0.0.1:8000/employees/{id}/delete/ - удаление сотрудника /только для администратора/
- [GET] http://127.0.0.1:8000/tasks/ - получение списка задач
- [GET] http://127.0.0.1:8000/tasks/{id}/ - получение информации о конкретной задаче
- [POST] http://127.0.0.1:8000/tasks/create/ - добавление задачи
- [PATCH] http://127.0.0.1:8000/tasks/{id}/update/ - peдактирование задачи
- [DELETE] http://127.0.0.1:8000/tasks/{id}/delete/ - удаление задачи

- http://127.0.0.1:8000/swagger/, http://127.0.0.1:8000/redoc/ - документация для API

### Специализированные URL
- [GET] http://127.0.0.1:8000/employees/active/ - получение списка занятых сотрудников (и их задачи, отсортированный по количеству активных задач)
- [GET] http://127.0.0.1:8000/tasks/important/ - получение списка важных задач (не взяты в работу, но от которых зависят другие задачи, взятые в работу)

